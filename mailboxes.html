<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title></title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>

    <script src="assets/js/Tops.Peanut/Peanut.js"></script>
    <script src="assets/js/Tops.App/App.js"></script>
    <script src="assets/js/Tops.App/MailboxesViewModel.js"></script>

</head>
<body>

<div class="container">

<messages-component></messages-component>

<div id="page-view" style="display: none">
    <div data-bind="visible: showList">
        <h2>Mailboxes</h2>
        <div>
            <div><a data-bind="click: newMailbox" href="#">New mailbox</a></div>
            <table class="table table-striped">
                <thead>
                <tr><th>Code</th><th>Name</th><th>E-mail</th><th>Description</th><th>&nbsp;</th></tr>
                </thead>
                <tbody data-bind="foreach:mailboxList">
                <tr>
                    <td data-bind="text: code"></td>
                    <td data-bind="text: name"></td>
                    <td data-bind="text: email"></td>
                    <td data-bind="text: description"></td>
                    <td><button data-bind="click: $parent.editMailbox">Edit</button></td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>


    <div  data-bind="visible: showForm">
            <h2 data-bind="text: formHeading"></h2>
        <form>
            <div class="form-group">
                <label for="inputCode">Mailbox Code</label>
                <input data-bind="value: mailboxCode" type="text" class="form-control" id="inputCode" placeholder="Enter mailbox code">
            </div>
            <div class="form-group">
                <label for="inputName">Name</label>
                <input data-bind="value: mailboxName" type="text" class="form-control" id="inputName" placeholder="Enter mailbox name">
            </div>
            <div class="form-group">
                <label for="inputDescription">Description</label>
                <input data-bind="value: mailboxDescription" type="text" class="form-control" id="inputDescription" placeholder="Enter mailbox name">
            </div>
            <div class="form-group">
                <label for="inputEmail">E-Mail</label>
                <input data-bind="value: mailboxEmail" type="text" class="form-control" id="inputEmail" placeholder="Enter mailbox name">
            </div>
            <button data-bind="click: updateMailbox" class="btn btn-primary">Update</button>&nbsp;&nbsp;
            <button data-bind="click: selectListView" class="btn btn-primary">Cancel</button><br/>
        </form>

    </div> <!-- end form -->
</div>
</div> <!-- end container -->
</body>
<script>
    $("#page-view").hide();
    var root = '/';
    // var root = '/Tops.core';
    ViewModel.init(root, function() {
        ko.applyBindings(ViewModel);
        $("#page-view").show();
    });
</script>
</html>